<?php

$tarotArray = [
    "smallArcana" => [
        "cups" => [
            "01cups" => ["image" => "smallArcana/cups/01cups.jpg", "name" => "Ace of Cups", "keyWords" => "Bliss & New love"],
            "02cups" => ["image" => "smallArcana/cups/02cups.jpg", "name" => "Two of Cups", "keyWords" => "Partnership & Harmony"],
            "03cups" => ["image" => "smallArcana/cups/03cups.jpg", "name" => "Three of Cups", "keyWords" => "Friendship & Joy"],
            "04cups" => ["image" => "smallArcana/cups/04cups.jpg", "name" => "Four of Cups", "keyWords" => "Boredom & Renewal"],
            "05cups" => ["image" => "smallArcana/cups/05cups.jpg", "name" => "Five of Cups", "keyWords" => "Disappointment & Regret"],
            "06cups" => ["image" => "smallArcana/cups/06cups.jpg", "name" => "Six of Cups", "keyWords" => "Nostalgia & Childhood"],
            "07cups" => ["image" => "smallArcana/cups/07cups.jpg", "name" => "Seven of Cups", "keyWords" => "Escapism & Clarity"],
            "08cups" => ["image" => "smallArcana/cups/08cups.jpg", "name" => "Eight of Cups", "keyWords" => "Leaving & Breaking up"],
            "09cups" => ["image" => "smallArcana/cups/09cups.jpg", "name" => "Nine of Cups", "keyWords" => "Contentment & Excess"],
            "10cups" => ["image" => "smallArcana/cups/10cups.jpg", "name" => "Ten of Cups", "keyWords" => "Communion & Lasting happiness"],
            "11cups" => ["image" => "smallArcana/cups/11cups.jpg", "name" => "Page of Cups", "keyWords" => "Imagination & Intuition"],
            "12cups" => ["image" => "smallArcana/cups/12cups.jpg", "name" => "Knight of Cups", "keyWords" => "Passion & Seduction"],
            "13cups" => ["image" => "smallArcana/cups/13cups.jpg", "name" => "Queen of Cups", "keyWords" => "Empahy & Wisdom"],
            "14cups" => ["image" => "smallArcana/cups/14cups.jpg", "name" => "King of Cups", "keyWords" => "Caring & Compassion"]
        ],
        
        "wands" => [
            "01wands" => ["image" => "smallArcana/wands/01wands.jpg", "name" => "Ace of Wands", "keyWords" => "Optimism & Inspiration"],
            "02wands" => ["image" => "smallArcana/wands/02wands.jpg", "name" => "Two of Wands", "keyWords" => "Determination & Steady course"],
            "03wands" => ["image" => "smallArcana/wands/03wands.jpg", "name" => "Three of Wands", "keyWords" => "Creativity & Networking"],
            "04wands" => ["image" => "smallArcana/wands/04wands.jpg", "name" => "Four of Wands", "keyWords" => "Celebration & Completion"],
            "05wands" => ["image" => "smallArcana/wands/05wands.jpg", "name" => "Five of Wands", "keyWords" => "Challenge & Relief"],
            "06wands" => ["image" => "smallArcana/wands/06wands.jpg", "name" => "Six of Wands", "keyWords" => "Triumph & Conquest"],
            "07wands" => ["image" => "smallArcana/wands/07wands.jpg", "name" => "Seven of Wands", "keyWords" => "Courage & Determination"],
            "08wands" => ["image" => "smallArcana/wands/08wands.jpg", "name" => "Eight of Wands", "keyWords" => "Excitement & Messages"],
            "09wands" => ["image" => "smallArcana/wands/09wands.jpg", "name" => "Nine of Wands", "keyWords" => "Defending oneself & Mustering strenght"],
            "10wands" => ["image" => "smallArcana/wands/10wands.jpg", "name" => "Ten of Wands", "keyWords" => "Responsibility & Overworked"],
            "11wands" => ["image" => "smallArcana/wands/11wands.jpg", "name" => "Page of Wands", "keyWords" => "Good news & Vigor"],
            "12wands" => ["image" => "smallArcana/wands/12wands.jpg", "name" => "Knight of Wands", "keyWords" => "Departure & Adventure"],
            "13wands" => ["image" => "smallArcana/wands/13wands.jpg", "name" => "Queen of Wands", "keyWords" => "Charisma & Confidence"],
            "14wands" => ["image" => "smallArcana/wands/14wands.jpg", "name" => "King of Wands", "keyWords" => "Visionary & Ambition"]
        ],
        
        "swords" => [
            "01swords" => ["image" => "smallArcana/swords/01swords.jpg", "name" => "Ace of Swords", "keyWords" => "Mental energy & Innovation"],
            "02swords" => ["image" => "smallArcana/swords/02swords.jpg", "name" => "Two of Swords", "keyWords" => "Impasse & Forced decision"],
            "03swords" => ["image" => "smallArcana/swords/03swords.jpg", "name" => "Three of Swords", "keyWords" => "Infidelity & Recovery"],
            "04swords" => ["image" => "smallArcana/swords/04swords.jpg", "name" => "Four of Swords", "keyWords" => "Relaxation & Solitude"],
            "05swords" => ["image" => "smallArcana/swords/05swords.jpg", "name" => "Five of Swords", "keyWords" => "Vindication & Betrayal"],
            "06swords" => ["image" => "smallArcana/swords/06swords.jpg", "name" => "Six of Swords", "keyWords" => "Surprises & Calm water"],
            "07swords" => ["image" => "smallArcana/swords/07swords.jpg", "name" => "Seven of Swords", "keyWords" => "Trickery & Cleverness"],
            "08swords" => ["image" => "smallArcana/swords/08swords.jpg", "name" => "Eight of Swords", "keyWords" => "Self-limitation & Restraint"],
            "09swords" => ["image" => "smallArcana/swords/09swords.jpg", "name" => "Nine of Swords", "keyWords" => "Anxiety & Guilt"],
            "10swords" => ["image" => "smallArcana/swords/10swords.jpg", "name" => "Ten of Swords", "keyWords" => "Sorrow & Perseverance"],
            "11swords" => ["image" => "smallArcana/swords/11swords.jpg", "name" => "Page of Swords", "keyWords" => "Curiosity & Gossip"],
            "12swords" => ["image" => "smallArcana/swords/12swords.jpg", "name" => "Knight of Swords", "keyWords" => "Skills & Confrontations"],
            "13swords" => ["image" => "smallArcana/swords/13swords.jpg", "name" => "Queen of Swords", "keyWords" => "Wisdom and Ambition"],
            "14swords" => ["image" => "smallArcana/swords/14swords.jpg", "name" => "King of Swords", "keyWords" => "Authority & Objectivity"]
        ],
        
        "pentacles" => [
            "01pent" => ["image" => "smallArcana/pentacles/01pent.jpg", "name" => "Ace of Pentacles", "keyWords" => "Gifts & Investments"],
            "02pent" => ["image" => "smallArcana/pentacles/02pent.jpg", "name" => "Two of Pentacles", "keyWords" => "Stress & Debt"],
            "03pent" => ["image" => "smallArcana/pentacles/03pent.jpg", "name" => "Three of Pentacles", "keyWords" => "Working together & Dignity"],
            "04pent" => ["image" => "smallArcana/pentacles/04pent.jpg", "name" => "Four of Pentacles", "keyWords" => "Security & Stability"],
            "05pent" => ["image" => "smallArcana/pentacles/05pent.jpg", "name" => "Five of Pentacles", "keyWords" => "Poverty & Neglect"],
            "06pent" => ["image" => "smallArcana/pentacles/06pent.jpg", "name" => "Six of Pentacles", "keyWords" => "Presents & Charity"],
            "07pent" => ["image" => "smallArcana/pentacles/07pent.jpg", "name" => "Seven of Pentacles", "keyWords" => "Patience & Planning"],
            "08pent" => ["image" => "smallArcana/pentacles/08pent.jpg", "name" => "Eight of Pentacles", "keyWords" => "Craftsmanship & Labor"],
            "09pent" => ["image" => "smallArcana/pentacles/09pent.jpg", "name" => "Nine of Pentacles", "keyWords" => "Independence & Confidence"],
            "10pent" => ["image" => "smallArcana/pentacles/10pent.jpg", "name" => "Ten of Pentacles", "keyWords" => "Wealth & Comfort"],
            "11pent" => ["image" => "smallArcana/pentacles/11pent.jpg", "name" => "Page of Pentacles", "keyWords" => "Learning & Education"],
            "12pent" => ["image" => "smallArcana/pentacles/12pent.jpg", "name" => "Knight of Pentacles", "keyWords" => "Practicality & Convention"],
            "13pent" => ["image" => "smallArcana/pentacles/13pent.jpg", "name" => "Queen of Pentacles", "keyWords" => "Nurturing & Entitlement"],
            "14pent" => ["image" => "smallArcana/pentacles/14pent.jpg", "name" => "King of Pentacles", "keyWords" => "Loyalty & Organization"]
            ]
        ],
        
        "greatArcana" => [
            "00fool" => ["image" => "greatArcana/00fool.jpg", "name" => "The Fool", "keyWords" => "Innocence, New Beginnings & Carelessness"],
            "01magician" => ["image" => "greatArcana/01magician.jpg", "name" => "The Magician", "keyWords" => "Adaption, Cunning & Trickery"],
            "02highpriestess" => ["image" => "greatArcana/02highpriestess.jpg", "name" => "The High Priestess", "keyWords" => "Divine Knowledge, Mystery & the Subconscious"],
            "03empress" => ["image" => "greatArcana/03empress.jpg", "name" => "The Empress", "keyWords" => "Beauty, Creativity & Fertility"],
            "04emperor" => ["image" => "greatArcana/04emperor.jpg", "name" => "The Emperor", "keyWords" => "Fatherhood, Ambition & Leadership"],
            "05heirophant" => ["image" => "greatArcana/05heirophant.jpg", "name" => "The Heirophant", "keyWords" => "Tradition, Legacy & Servitude"],
            "06lovers" => ["image" => "greatArcana/06lovers.jpg", "name" => "The Lovers", "keyWords" => "True love, Friendship & Conflict"],
            "07chariot" => ["image" => "greatArcana/07chariot.jpg", "name" => "The Chariot", "keyWords" => "Willpower, Self-control & Discipline"],
            "08strenght" => ["image" => "greatArcana/08strength.jpg", "name" => "Strenght", "keyWords" => "Strenght, Courage & Compassion"],
            "09hermit" => ["image" => "greatArcana/09hermit.jpg", "name" => "The Hermit", "keyWords" => "Contemplation, Insight & Awareness"],
            "10wheeloffortune" => ["image" => "greatArcana/10wheeloffortune.jpg", "name" => "Wheel of Fortune", "keyWords" => "Fortune, Timing & Karma"],
            "11justice" => ["image" => "greatArcana/11justice.jpg", "name" => "Justice", "keyWords" => "Justice, Marriage & Equality"],
            "12hangedman" => ["image" => "greatArcana/12hangedman.jpg", "name" => "The Hanged Man", "keyWords" => "Perspectives, Dreams & Devotion"],
            "13death" => ["image" => "greatArcana/13death.jpg", "name" => "Death", "keyWords" => "Change, Transfomation & Obsession"],
            "14temperance" => ["image" => "greatArcana/14temperance.jpg", "name" => "Temperance", "keyWords" => "Compromise, Moderation & Cooperation"],
            "15devil" => ["image" => "greatArcana/15devil.jpg", "name" => "The Devil", "keyWords" => "Temptation, Addiction & Freedom"],
            "16tower" => ["image" => "greatArcana/16tower.jpg", "name" => "The Tower", "keyWords" => "Destruction, Trauma & Accidents"],
            "17star" => ["image" => "greatArcana/17star.jpg", "name" => "The Star", "keyWords" => "Hope, Optimism & Community"],
            "18moon" => ["image" => "greatArcana/18moon.jpg", "name" => "The Moon", "keyWords" => "Illusion, Delusion & Awareness"],
            "19sun" => ["image" => "greatArcana/19sun.jpg", "name" => "The Sun", "keyWords" => "Happiness, Success & Prosperity"],
            "20judgement" => ["image" => "greatArcana/20judgment.jpg", "name" => "Judgement", "keyWords" => "Regrets, Resolution & Remorse"],
            "21world" => ["image" => "greatArcana/21world.jpg", "name" => "The World", "keyWords" => "Cycles, Attainment & Perfection"]
            ]
        ];

        
        
        $tarotArrayValues = $tarotArray["smallArcana"]["cups"] + $tarotArray["smallArcana"]["swords"] + $tarotArray["smallArcana"]["wands"] + $tarotArray["smallArcana"]["pentacles"] = $tarotArray["greatArcana"];


function drawCard($tarotArray, $spreadName)
{
    $cardNumberSpread = [
        "three" => 3,
        "celticCross" => 10,
        "catLover" => 5,
        "wtf" => 6,
    ];

    $arraySubText = [
        "three" => [
            "Past",
            "Present",
            "Future",
        ],
        "celticCross" => [
            "Situation & Challenge",
            "",
            "Root of the Issue",
            "Beliefs",
            "Past",
            "Future",
            "Self-Perception",
            "Perception of Others",
            "Fears",
            "Outcome",
        ],
        "catLover" => [
            "What <b>goals</b> are you stalkin?",
            "<b>HISSS!!!</b> <br> Banish this from your life.",
            "<b>Play:</b> <br> how to have more fun & joy",
            "<b>Pounce!</b> <br> Oppertunities coming your way.",
            "<b>Cat Nap:</b> <br> What do you need a rest from?",
        ],
        "wtf" => [
            "<b>'WHAT'</b> <br> The face of my challenge.",
            "<b>'THE'</b> <br> & the crux of what bounds me...",
            "<b>'ACTUAL'</b> <br> What is real about this?",
            "<b>'F*CK'</></b> <br> What is wrong about this?",
            "<b>'?'</b> <br> Where do I need more infe?",
            "<b>'!'</b> <br> What can I do?",
        ]
    ];

    $numberCards = $cardNumberSpread[$spreadName];
    $result = array_rand($tarotArray, $numberCards);
    if ($numberCards <= 1) {
        $result = array($result);
    }

    foreach ($result as $key => $card) {
        $rotator = rand(0, 1);
        if ($rotator == 0) {
            echo 
            "<figure>
                <div>
                    <a target='_blank' class='tooltip' href='card.php?cardName={$card}'>
                        <img src='./cards/{$tarotArray[$card]['image']}'>
                        <span class='tooltipText'>{$tarotArray[$card]['name']}</span>
                    </a>
                    <figcaption>
                        {$arraySubText[$spreadName][$key]}
                    </figcaption>
                </div>
            </figure>";  
        } else {
            echo 
            "<figure>
                <div>
                    <a target='_blank' class='rotate tooltip' href='card.php?cardName={$card}'>
                        <img src='./cards/{$tarotArray[$card]['image']}'>
                        <span class='tooltipText'>{$tarotArray[$card]['name']}</span>
                    </a>
                    <figcaption>
                        {$arraySubText[$spreadName][$key]}
                    </figcaption>
                </div>
            </figure>";
        }
    }     
}

if (isset($_POST["spread"])) {
    drawCard($tarotArrayValues, $_POST["spread"]);
}

// foreach ($result as $key => $card) {
//     $rotator = rand(0, 1);
//     if ($rotator == 0) {
//         echo "<figure><div><a href='card.php?cardName={$card}'><img src='./cards/{$tarotArray[$card]['image']}'></a><figcaption>{$arraySubText[$spreadName][$key]}</figcaption></div></figure>";  
//     } else {
//         echo "<figure><div><a class='rotate' href='card.php?cardName={$card}'><img src='./cards/{$tarotArray[$card]['image']}'></a><figcaption>{$arraySubText[$spreadName][$key]}</figcaption></div></figure>";
//     }
// }
